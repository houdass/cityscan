"use strict";var _permission2=require("../models/permission"),_permission3=_interopRequireDefault(_permission2);function _interopRequireDefault(s){return s&&s.__esModule?s:{default:s}}var permissionController=function(){return{add:function(s,e,n){var i=s.body.label;if(!i)return e.status(422).send({error:"You must enter a permission label."});_permission3.default.findOne({label:i},function(s,o){s?e.status(500).send(s):o?e.status(422).json({error:"This permission already exists."}):new _permission3.default({label:i}).save(function(s,i){if(s)return n(s);e.status(201).json(i)})})},edit:function(s,e){s.permission.label=s.body.label,s.permission.save(function(s,n){s?e.status(500).send(s):e.json(n)})},find:function(s,e){e.json(s.permission)},findAll:function(s,e){_permission3.default.find({},function(s,n){s?e.status(500).send(s):e.json(n)})},middleware:function(s,e,n){_permission3.default.findById(s.params.id,function(i,o){i?e.status(500).send(i):o?(s.permission=o,n()):e.status(404).send("No permission found")})},remove:function(s,e){s.permission.remove(function(s){s?e.status(500).send(s):e.status(204).send("Successfully removed")})}}};module.exports=permissionController;