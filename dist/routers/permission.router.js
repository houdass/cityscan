"use strict";var _constants=require("../constants"),_express=require("express"),_express2=_interopRequireDefault(_express),_passport=require("passport"),_passport2=_interopRequireDefault(_passport);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}require("../config/passport");var permissionController=require("../controllers/permission.controller")(),authController=require("../controllers/auth.controller")(),requireAuth=_passport2.default.authenticate("jwt",{session:!1});module.exports=function(){var e=new _express2.default.Router;return e.use(requireAuth,authController.hasAuthorization(_constants.ROLES.ADMIN)),e.post("/",permissionController.add),e.get("/",permissionController.findAll),e.use("/:id",permissionController.middleware),e.get("/:id",permissionController.find),e.put("/:id",permissionController.edit),e.delete("/:id",permissionController.remove),e};